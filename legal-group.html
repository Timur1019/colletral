<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legal — Группа клиентов</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/bootstrap-overrides.css">
    <link rel="stylesheet" href="styles/legal.css">
    <link rel="stylesheet" href="styles/legal-group.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="logo">Corporate collection</h1>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h3 class="nav-section-title">Monitoring</h3>
                    <ul class="nav-list">
                        <li class="nav-item"><a href="index.html" class="nav-link"><i class="fas fa-home"></i><span>Home</span></a></li>
                        <li class="nav-item"><a href="clients.html" class="nav-link"><i class="fas fa-users"></i><span>Clients</span></a></li>
                        <li class="nav-item"><a href="workouts.html" class="nav-link"><i class="fas fa-chart-line"></i><span>Workouts</span></a></li>
                        <li class="nav-item"><a href="regions.html" class="nav-link"><i class="fas fa-map-marker-alt"></i><span>Regions</span></a></li>
                        <li class="nav-item active"><a href="legal.html" class="nav-link"><i class="fas fa-gavel"></i><span>Legal</span></a></li>
                        <li class="nav-item"><a href="calendar.html" class="nav-link"><i class="fas fa-calendar-alt"></i><span>Calendar</span></a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3 class="nav-section-title">Access Controls</h3>
                    <ul class="nav-list">
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-users"></i><span>Users</span></a></li>
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-shield-alt"></i><span>Roles</span></a></li>
                    </ul>
                </div>
            </nav>
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar"><i class="fas fa-user"></i></div>
                    <div class="user-info">
                        <div class="user-name">admin</div>
                        <div class="user-role">Regular User</div>
                    </div>
                    <button class="notification-btn"><i class="fas fa-bell"></i></button>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <header class="content-header">
                <div class="header-left">
                    <button class="btn-back" onclick="window.location.href='legal.html'">
                        <i class="fas fa-arrow-left"></i>
                        <span>Назад</span>
                    </button>
                    <h1 class="page-header-title" id="legal-group-title">Группа клиентов</h1>
                </div>
                <div class="header-right">
                    <div class="breadcrumbs">
                        <i class="fas fa-home"></i>
                        <span class="breadcrumb-separator">/</span>
                        <a href="legal.html" class="breadcrumb-link">Юридический модуль</a>
                        <span class="breadcrumb-separator">/</span>
                        <span id="legal-group-breadcrumb">Группа</span>
                    </div>
                </div>
            </header>

            <div class="content-body legal-content-body">
                <div class="page-header">
                    <h2 class="page-title mb-0" id="legal-group-page-title">Группа клиентов</h2>
                </div>

                <!-- KPI карточки -->
                <div class="metrics-cards-grid legal-metrics-grid" style="grid-template-columns: repeat(5, 1fr);">
                    <div class="metric-card-dashboard">
                        <div class="metric-card-dashboard-header">
                            <div class="metric-card-dashboard-icon"><i class="fas fa-gavel"></i></div>
                            <div class="metric-card-dashboard-title">Суды</div>
                        </div>
                        <div class="metric-card-dashboard-value">30</div>
                        <div class="metric-card-dashboard-progress"><div class="metric-card-dashboard-progress-bar" style="width: 65%"></div></div>
                    </div>
                    <div class="metric-card-dashboard">
                        <div class="metric-card-dashboard-header">
                            <div class="metric-card-dashboard-icon"><i class="fas fa-money-bill-wave"></i></div>
                            <div class="metric-card-dashboard-title">Общая задолженность</div>
                        </div>
                        <div class="metric-card-dashboard-value">3 457 888 980</div>
                        <div class="metric-card-dashboard-progress"><div class="metric-card-dashboard-progress-bar" style="width: 80%"></div></div>
                    </div>
                    <div class="metric-card-dashboard">
                        <div class="metric-card-dashboard-header">
                            <div class="metric-card-dashboard-icon"><i class="fas fa-hand-holding-usd"></i></div>
                            <div class="metric-card-dashboard-title">Сумма взыскания</div>
                        </div>
                        <div class="metric-card-dashboard-value">1.2 млрд</div>
                        <div class="metric-card-dashboard-progress"><div class="metric-card-dashboard-progress-bar" style="width: 45%"></div></div>
                    </div>
                    <div class="metric-card-dashboard">
                        <div class="metric-card-dashboard-header">
                            <div class="metric-card-dashboard-icon"><i class="fas fa-folder"></i></div>
                            <div class="metric-card-dashboard-title">Закрыто</div>
                        </div>
                        <div class="metric-card-dashboard-value">87</div>
                        <div class="metric-card-dashboard-progress"><div class="metric-card-dashboard-progress-bar" style="width: 70%"></div></div>
                    </div>
                    <div class="metric-card-dashboard">
                        <div class="metric-card-dashboard-header">
                            <div class="metric-card-dashboard-icon"><i class="fas fa-tasks"></i></div>
                            <div class="metric-card-dashboard-title">В работе</div>
                        </div>
                        <div class="metric-card-dashboard-value">37</div>
                        <div class="metric-card-dashboard-progress"><div class="metric-card-dashboard-progress-bar" style="width: 55%"></div></div>
                    </div>
                </div>

                <!-- Переходы: две отдельные карточки на всю ширину -->
                <div class="legal-tabs-nav-wrap">
                    <ul class="nav nav-tabs legal-tabs-cards" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="legal-tab-general-btn" data-bs-toggle="tab" data-bs-target="#legal-tab-general" type="button" role="tab">Общая информация</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="legal-tab-courts-btn" data-bs-toggle="tab" data-bs-target="#legal-tab-courts" type="button" role="tab">Судебные дела</button>
                        </li>
                    </ul>
                </div>

                <div class="tab-content legal-tab-content">
                    <!-- Карточка 1: Общая информация -->
                    <div class="tab-pane fade show active legal-tab-pane-card" id="legal-tab-general" role="tabpanel">
                        <div class="legal-info-inner">
                            <!-- Карточка: фото | информация о клиенте | план действий -->
                            <div class="legal-passport-card legal-passport-card-three" id="legal-passport-card">
                                <div class="legal-passport-photo">
                                    <img id="legal-passport-photo" src="" alt="Фото" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                    <div class="legal-passport-photo-placeholder" id="legal-passport-photo-placeholder" style="display: none;">
                                        <i class="fas fa-user"></i>
                                    </div>
                                </div>
                                <div class="legal-passport-center">
                                    <div class="legal-passport-head">
                                        <h4 class="legal-passport-sheet-title">Информация о клиенте</h4>
                                        <div class="legal-passport-download">
                                            <button type="button" class="legal-passport-download-btn legal-download-pdf" id="legal-download-pdf" title="PDF">
                                                <i class="fas fa-file-pdf"></i>
                                                <span>PDF</span>
                                            </button>
                                            <button type="button" class="legal-passport-download-btn legal-download-word" id="legal-download-word" title="Word">
                                                <i class="fas fa-file-word"></i>
                                                <span>Word</span>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="legal-passport-columns">
                                        <div class="legal-passport-column">
                                            <h4 class="legal-passport-column-title">Основные данные</h4>
                                            <div class="legal-passport-fields">
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">ПИНФЛ</label>
                                                    <div class="legal-passport-value" id="legal-pinfl">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Дата рождения</label>
                                                    <div class="legal-passport-value" id="legal-birth">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Прописка</label>
                                                    <div class="legal-passport-value" id="legal-address-reg">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Кадастр / дата</label>
                                                    <div class="legal-passport-value legal-passport-value-small" id="legal-kadastr">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Временная регистрация</label>
                                                    <div class="legal-passport-value" id="legal-temp-reg">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Клиент / Компания / Организация</label>
                                                    <div class="legal-passport-value" id="legal-org-type">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Банковский филиал</label>
                                                    <div class="legal-passport-value" id="legal-branch">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Паспортные данные</label>
                                                    <div class="legal-passport-value" id="legal-series">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Область / Район</label>
                                                    <div class="legal-passport-value" id="legal-region">—</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="legal-passport-column">
                                            <h4 class="legal-passport-column-title">Адрес и связь</h4>
                                            <div class="legal-passport-fields">
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Номер телефона</label>
                                                    <div class="legal-passport-value" id="legal-phone">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Адрес</label>
                                                    <div class="legal-passport-value" id="legal-address">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Сектор</label>
                                                    <div class="legal-passport-value" id="legal-sector">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">НИБДД</label>
                                                    <div class="legal-passport-value" id="legal-nibdd">—</div>
                                                </div>
                                                <div class="legal-passport-field">
                                                    <label class="legal-passport-label">Biriktirilgan HUB</label>
                                                    <div class="legal-passport-value" id="legal-hub">—</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="legal-action-plan">
                                    <h4 class="legal-action-plan-title">
                                        <i class="fas fa-calendar-check"></i>
                                        План действий
                                    </h4>
                                    <ul class="legal-action-plan-timeline">
                                        <li class="legal-action-plan-item legal-action-plan-item-active">
                                            <span class="legal-action-plan-dot"></span>
                                            <div class="legal-action-plan-content">
                                                <span class="legal-action-plan-date">Сегодня</span>
                                                <strong class="legal-action-plan-name">Подача ходатайства</strong>
                                                <p class="legal-action-plan-desc">Подготовка документов для суда банкротства</p>
                                            </div>
                                        </li>
                                        <li class="legal-action-plan-item">
                                            <span class="legal-action-plan-dot"></span>
                                            <div class="legal-action-plan-content">
                                                <span class="legal-action-plan-date">22 фев 2025</span>
                                                <strong class="legal-action-plan-name">Судебное заседание</strong>
                                                <p class="legal-action-plan-desc">Основное слушание в экономическом суде</p>
                                            </div>
                                        </li>
                                        <li class="legal-action-plan-item">
                                            <span class="legal-action-plan-dot"></span>
                                            <div class="legal-action-plan-content">
                                                <span class="legal-action-plan-date">01 мар 2025</span>
                                                <strong class="legal-action-plan-name">Срок апелляции</strong>
                                                <p class="legal-action-plan-desc">Крайний срок подачи возражений</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Карточка 2: Судебные дела -->
                    <div class="tab-pane fade legal-tab-pane-card" id="legal-tab-courts" role="tabpanel">
                        <div class="legal-courts-inner">
                            <div class="legal-courts-nav-row">
                                <ul class="nav legal-courts-nav" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#legal-pane-instance1" type="button" role="tab">1-инстанция</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#legal-pane-appeal" type="button" role="tab">Апелляция</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#legal-pane-cassation" type="button" role="tab">Кассация</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#legal-pane-taftish" type="button" role="tab">Тафтиш</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#legal-pane-supreme" type="button" role="tab">Олий Суд</button>
                                    </li>
                                </ul>
                                <button type="button" class="btn btn-primary legal-btn-add-case" id="legal-add-case-btn" title="Добавить дело в выбранную инстанцию">
                                    <i class="fas fa-plus"></i>
                                    <span>Добавить дело</span>
                                </button>
                            </div>
                        <div class="tab-content legal-courts-tab-content">
                            <div class="tab-pane fade show active" id="legal-pane-instance1" role="tabpanel">
                                <div class="legal-courts-card">
                                    <div class="table-wrapper">
                                        <table class="table table-striped table-hover legal-courts-table">
                                            <thead>
                                                <tr>
                                                    <th>№</th>
                                                    <th>Название дела</th>
                                                    <th>Суд</th>
                                                    <th>Дата</th>
                                                    <th>Статус</th>
                                                    <th>Действия</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td>Исковое заявление</td>
                                                    <td>Банкротства</td>
                                                    <td>12.01.2025</td>
                                                    <td><span class="legal-status legal-status-court">В суде</span></td>
                                                    <td>
                                                        <div class="action-buttons">
                                                            <button type="button" class="btn btn-sm btn-outline-primary" title="Просмотр" onclick="event.stopPropagation(); openLegalDetailModal(1);"><i class="fas fa-eye"></i></button>
                                                            <button type="button" class="btn btn-sm btn-outline-primary" title="Редактировать"><i class="fas fa-edit"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td>Исполнительный лист</td>
                                                    <td>Экономический суд</td>
                                                    <td>05.02.2025</td>
                                                    <td><span class="legal-status legal-status-exec">Исполнение</span></td>
                                                    <td>
                                                        <div class="action-buttons">
                                                            <button type="button" class="btn btn-sm btn-outline-primary" title="Просмотр" onclick="event.stopPropagation(); openLegalDetailModal(2);"><i class="fas fa-eye"></i></button>
                                                            <button type="button" class="btn btn-sm btn-outline-primary" title="Редактировать"><i class="fas fa-edit"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>Решение суда</td>
                                                    <td>Уголовный суд</td>
                                                    <td>20.01.2025</td>
                                                    <td><span class="legal-status legal-status-closed">Закрыто</span></td>
                                                    <td>
                                                        <div class="action-buttons">
                                                            <button type="button" class="btn btn-sm btn-outline-primary" title="Просмотр" onclick="event.stopPropagation(); openLegalDetailModal(3);"><i class="fas fa-eye"></i></button>
                                                            <button type="button" class="btn btn-sm btn-outline-primary" title="Редактировать"><i class="fas fa-edit"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>Исполнительное письмо</td>
                                                    <td>Административный суд</td>
                                                    <td>15.02.2025</td>
                                                    <td><span class="legal-status legal-status-court">В суде</span></td>
                                                    <td>
                                                        <div class="action-buttons">
                                                            <button type="button" class="btn btn-sm btn-outline-primary" title="Просмотр" onclick="event.stopPropagation(); openLegalDetailModal(4);"><i class="fas fa-eye"></i></button>
                                                            <button type="button" class="btn btn-sm btn-outline-primary" title="Редактировать"><i class="fas fa-edit"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="legal-pane-appeal" role="tabpanel">
                                <div class="legal-courts-card">
                                    <div class="table-wrapper">
                                        <table class="table table-striped table-hover legal-courts-table">
                                            <thead>
                                                <tr>
                                                    <th>№</th>
                                                    <th>Название дела</th>
                                                    <th>Суд</th>
                                                    <th>Дата</th>
                                                    <th>Статус</th>
                                                    <th>Действия</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td colspan="6" class="text-center text-secondary py-4">Дела по апелляции по данной группе отсутствуют.</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="legal-pane-cassation" role="tabpanel">
                                <div class="legal-courts-card">
                                    <div class="table-wrapper">
                                        <table class="table table-striped table-hover legal-courts-table">
                                            <thead>
                                                <tr>
                                                    <th>№</th>
                                                    <th>Название дела</th>
                                                    <th>Суд</th>
                                                    <th>Дата</th>
                                                    <th>Статус</th>
                                                    <th>Действия</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td colspan="6" class="text-center text-secondary py-4">Дела по кассации по данной группе отсутствуют.</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="legal-pane-taftish" role="tabpanel">
                                <div class="legal-courts-card">
                                    <div class="table-wrapper">
                                        <table class="table table-striped table-hover legal-courts-table">
                                            <thead>
                                                <tr>
                                                    <th>№</th>
                                                    <th>Название дела</th>
                                                    <th>Суд</th>
                                                    <th>Дата</th>
                                                    <th>Статус</th>
                                                    <th>Действия</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td colspan="6" class="text-center text-secondary py-4">Дела по тафтишу по данной группе отсутствуют.</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="legal-pane-supreme" role="tabpanel">
                                <div class="legal-courts-card">
                                    <div class="table-wrapper">
                                        <table class="table table-striped table-hover legal-courts-table">
                                            <thead>
                                                <tr>
                                                    <th>№</th>
                                                    <th>Название дела</th>
                                                    <th>Суд</th>
                                                    <th>Дата</th>
                                                    <th>Статус</th>
                                                    <th>Действия</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td colspan="6" class="text-center text-secondary py-4">Дела в Олий Суде по данной группе отсутствуют.</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                            </div>
                    </div>
                </div>

            </div>

            <footer class="content-footer">
                <p>The application code is published under the MIT license. 2025 - 2025</p>
                <p>Version: 1.0.0</p>
            </footer>
        </main>
    </div>

    <!-- Модальное окно: Детальный просмотр / Ариза -->
    <div class="modal fade" id="legal-detail-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Детальный просмотр</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeLegalDetailModal()"></button>
                </div>
                <div class="modal-body">
                    <div class="row g-3 mb-4">
                        <div class="col-md-6">
                            <label class="form-label">Клиент</label>
                            <input type="text" class="form-control" id="detail-client" readonly>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Юрист</label>
                            <input type="text" class="form-control" id="detail-lawyer" readonly>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Тип файл</label>
                            <input type="text" class="form-control" id="detail-file-type" readonly>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Названия документа</label>
                            <input type="text" class="form-control" id="detail-doc-name" readonly>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Вид суда</label>
                            <input type="text" class="form-control" id="detail-court-type" readonly>
                        </div>
                    </div>
                    <div class="legal-modal-file-section mt-4">
                        <div class="d-flex align-items-center justify-content-between mb-2">
                            <h6 class="fw-bold text-primary mb-0">Документ</h6>
                            <a href="#" class="btn btn-sm btn-primary legal-detail-download-btn" id="legal-detail-download-btn" download>
                                <i class="fas fa-download"></i> Скачать
                            </a>
                        </div>
                        <div class="legal-modal-preview-wrap border rounded bg-light">
                            <iframe id="legal-detail-file-preview" class="legal-modal-preview-iframe" title="Просмотр документа"></iframe>
                            <div class="legal-modal-preview-placeholder text-secondary text-center py-5" id="legal-detail-preview-placeholder">
                                Выберите документ для просмотра
                            </div>
                        </div>
                    </div>
                    <div class="border rounded p-3 bg-light mt-3">
                        <h6 class="fw-bold text-primary mb-3">Ариза</h6>
                        <p class="mb-0 text-secondary" id="detail-ariza">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно: Добавить дело -->
    <div class="modal fade" id="legal-add-case-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Добавить дело</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="text-secondary">Форма добавления дела будет добавлена позже.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="scripts/legal-group.js"></script>
</body>
</html>
